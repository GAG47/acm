# 2024牛客暑期多校训练营1

[牛客竞赛_ACM/NOI/CSP/CCPC/ICPC算法编程高难度练习赛_牛客竞赛OJ (nowcoder.com)](https://ac.nowcoder.com/acm/contest/81596#question)

比赛时候出了四个题a，这场基本摸鱼了（全是许哥和盖林a的，做了一道签到题还wa了一发，罪过）

# I.Mirror Maze

**题目大意** 

> 有一个 $n×m$ 的矩形镜子迷宫，镜子有 “$\,/,-, |$” 四种，每种镜子有特 定的光线反射方向，注意直接通过镜子的情况不算被反射。 
> 有q个询问，每个询问给定一个点光源 $(x,y,dir)$，表示在 $(x,y)$ 位置向 $dir$ 方向发射一束光线，问经过足够的时间之后，这束光线被多少个不 同的镜子反射过。 
>  $1≤n,m≤1000,1 ≤ q ≤10^5$

**题解**：
因为光路可逆，所以不可能有光束分叉或者汇合的情况，所以所有的光束会构成若干个环和若干条链。
所以我们要做的就是把这些光环和光链抽出来，然后预处理出每个点光 源的答案，询问就查表 $O(1)$ 回答即可。 时间复杂度：$O(nm+q)$。

























